(this.webpackJsonpundefined=this.webpackJsonpundefined||[]).push([[0],{19:function(e,t,a){e.exports=a.p+"static/media/logo.47c4581a.svg"},44:function(e,t,a){e.exports=a(81)},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(39),r=a.n(l),i=(a(49),a(12)),o=a(5),u=a(4),m=a(19),s=a.n(m),d=(a(50),a(13)),f=(a(51),a(16)),p=a(40),E=a.n(p).a.create({baseURL:document.URL}),b=function(e){var t=e.setCity,a=e.ufCity,l=Object(n.useState)([]),r=Object(u.a)(l,2),i=r[0],o=r[1],m=Object(n.useState)([]),s=Object(u.a)(m,2),d=s[0],p=s[1];return Object(n.useEffect)((function(){""!==a.uf&&E.get("cities/".concat(a.uf)).then((function(e){var t=e.data;p(t)}))}),[a]),Object(n.useEffect)((function(){E.get("uf").then((function(e){var t=e.data;o(t)}))}),[]),c.a.createElement("div",{className:"field-group"},c.a.createElement("div",{className:"field"},c.a.createElement("label",{htmlFor:"uf"},"Estado (uf)"),c.a.createElement("select",{name:"uf",id:"uf",value:a.uf,onChange:function(e){t({uf:e.target.value,city:""})},required:!0},c.a.createElement("option",{value:""},"Selecione seu Estado"),i.map((function(e){return c.a.createElement("option",{key:e.codigo_uf,value:e.uf},e.name)})))),c.a.createElement("div",{className:"field"},c.a.createElement("label",{htmlFor:"city"},"Cidade"),c.a.createElement("select",{name:"city",id:"city",value:a.city,onChange:function(e){t(Object(f.a)(Object(f.a)({},a),{},{city:e.target.value}))},required:!0},c.a.createElement("option",{value:""},"Selecione sua Cidade"),d.map((function(e){return c.a.createElement("option",{key:e.codigo_ibge,value:e.name},e.name)})))))},g=function(e){var t=e.setOpenDimming,a=Object(n.useState)({uf:"",city:""}),l=Object(u.a)(a,2),r=l[0],o=l[1];return c.a.createElement("div",{className:"dimming"},c.a.createElement("button",{id:"close",onClick:function(){return t(!1)}},c.a.createElement(d.f,null)),c.a.createElement("div",{className:"container"},c.a.createElement(b,{ufCity:r,setCity:o}),c.a.createElement(i.b,{to:{pathname:"/find-point/",search:"?uf=".concat(r.uf,"&city=").concat(r.city)}},"Buscar")))},v=function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),a=t[0],l=t[1];return console.log(a),c.a.createElement("div",{id:"page-home"},a&&c.a.createElement(g,{setOpenDimming:l}),c.a.createElement("div",{className:"content"},c.a.createElement("header",null,c.a.createElement("img",{src:s.a,alt:"Ecoleta"}),c.a.createElement(i.b,{to:"/create-point"},c.a.createElement("span",null,c.a.createElement(d.c,null)),c.a.createElement("strong",null,"Cadastre um ponto de coleta"))),c.a.createElement("main",null,c.a.createElement("h1",null,"Seu Marketplace de coleta de Res\xedduos."),c.a.createElement("p",null,"Ajudamos pessoas a encontrarem pontos de coleta de forma eficiente."),c.a.createElement("a",{onClick:function(){return l(!0)}},c.a.createElement("span",null,c.a.createElement(d.d,null)),c.a.createElement("strong",null,"Encontre um ponto de coleta")))))},O=(a(74),function(e){return c.a.createElement("header",null,c.a.createElement(i.b,{to:"/"},c.a.createElement("img",{src:s.a,alt:"Ecoleta"})),c.a.createElement(i.b,{to:"/"},c.a.createElement(d.a,null),"Voltar para a Home"))}),h=(a(75),function(e){var t=e.point,a=e.items;return console.log(t),c.a.createElement("div",{className:"card",onClick:function(){window.open("https://maps.google.com/?q=".concat(t.latitude,",").concat(t.longitude))}},c.a.createElement("img",{src:t.imageUrl,alt:"Imagem do Ponto"}),c.a.createElement("div",{className:"card-body"},c.a.createElement("h2",null,t.name),c.a.createElement("p",null,t.city,"/",t.uf)),c.a.createElement("h3",null,"Items coletados"),c.a.createElement("div",{className:"card-item"},t.items.map((function(e){return a.map((function(t){return t.id===e&&c.a.createElement("div",{className:"tooltip"},c.a.createElement("img",{src:t.image_url,alt:t.title}),c.a.createElement("span",{className:"tooltiptext"},t.title))}))}))))}),j=(a(76),function(e){var t=Object(n.useState)([]),a=Object(u.a)(t,2),l=a[0],r=a[1],i=Object(n.useState)([]),o=Object(u.a)(i,2),m=o[0],s=o[1],d=new URLSearchParams(e.location.search),f={uf:d.get("uf"),city:d.get("city")};return Object(n.useEffect)((function(){E.get("points",{params:{items:[1,2,3,4,5,6],uf:f.uf,city:f.city}}).then((function(e){var t=e.data.map((function(e){return e}));r(t)})),E.get("items").then((function(e){var t=e.data.map((function(e){return e}));s(t)}))})),c.a.createElement("div",{id:"page-find-point"},c.a.createElement(O,null),c.a.createElement("div",{className:"white-background"}),c.a.createElement("p",{className:"points-find"},c.a.createElement("strong",null,l.length)," pontos foram encontrados."),c.a.createElement("div",{className:"points-card"},l.map((function(e){return c.a.createElement(h,{point:e,items:m})}))))}),y=a(27),C=a.n(y),S=a(41),N=a(84),w=a(85),k=a(83),x=function(e){e.setCity;var t=e.ufCity,a=e.setLatLon,l=Object(n.useState)([-11.3206707,-51.0105178]),r=Object(u.a)(l,2),i=r[0],o=r[1],m=Object(n.useState)([0,0]),s=Object(u.a)(m,2),d=s[0],f=s[1];return Object(n.useEffect)((function(){navigator.geolocation.getCurrentPosition((function(e){var t=e.coords,a=t.latitude,n=t.longitude;o([a,n])}))}),[]),Object(n.useEffect)((function(){""!==t.city&&E.get("uf/".concat(t.uf,"/city/").concat(t.city)).then((function(e){o([e.data.latitude,e.data.longitude])}))}),[t]),c.a.createElement(N.a,{center:i,zoom:15,onclick:function(e){var t=e.latlng.lat,n=e.latlng.lng;f([t,n]),a&&a([t,n])}},c.a.createElement(w.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),c.a.createElement(k.a,{position:d}))},D=a(20),I=function(e){var t=e.data,a=e.setData;function n(e){var n=e.target,c=n.name,l=n.value;a(Object(f.a)(Object(f.a)({},t),{},Object(D.a)({},c,l)))}return c.a.createElement("fieldset",null,c.a.createElement("legend",null,c.a.createElement("h2",null,"Dados")),c.a.createElement("div",{className:"field"},c.a.createElement("label",{htmlFor:"name"},"Nome da Entidade"),c.a.createElement("input",{type:"text",name:"name",id:"name",onChange:n,required:!0})),c.a.createElement("div",{className:"field-group"},c.a.createElement("div",{className:"field"},c.a.createElement("label",{htmlFor:"email"},"Email"),c.a.createElement("input",{type:"email",name:"email",id:"email",onChange:n,required:!0})),c.a.createElement("div",{className:"field"},c.a.createElement("label",{htmlFor:"whatsapp"},"Whatsapp"),c.a.createElement("input",{type:"text",name:"whatsapp",id:"whatsapp",onChange:n,required:!0}))))},L=a(28),P=function(e){var t=e.setItems,a=Object(n.useState)([]),l=Object(u.a)(a,2),r=l[0],i=l[1],o=Object(n.useState)([]),m=Object(u.a)(o,2),s=m[0],d=m[1];return Object(n.useEffect)((function(){E.get("items").then((function(e){i(e.data)}))}),[]),c.a.createElement("ul",{className:"items-grid"},r.map((function(e){return c.a.createElement("li",{key:e.id,onClick:function(){return function(e){if(s.findIndex((function(t){return t===e}))>=0){var a=s.filter((function(t){return t!==e}));d(a),t(a)}else d([].concat(Object(L.a)(s),[e])),t([].concat(Object(L.a)(s),[e]))}(e.id)},className:s.includes(e.id)?"selected":""},c.a.createElement("img",{src:e.image_url,alt:e.title}),c.a.createElement("span",null,e.title))})))},F=a(43),R=(a(78),function(e){var t=e.setFile,a=Object(n.useState)(""),l=Object(u.a)(a,2),r=l[0],i=l[1],o=Object(n.useCallback)((function(e){var a=e[0],n=URL.createObjectURL(a);i(n),t(a)}),[]),m=Object(F.a)({onDrop:o}),s=m.getRootProps,f=m.getInputProps;m.isDragActive;return c.a.createElement("div",Object.assign({className:"dropzone"},s()),c.a.createElement("input",f()),r?c.a.createElement("img",{src:r}):c.a.createElement("p",null," ",c.a.createElement(d.e,null)," Imagem do Ponto de Coleta."))}),q=(a(79),function(){return c.a.createElement(i.b,{to:"/"},c.a.createElement("div",{className:"dimming"},c.a.createElement(d.b,null),c.a.createElement("label",null,"Ponto Cadastrado com Sucesso!")))}),U=(a(80),function(){var e=Object(n.useState)({uf:"",city:""}),t=Object(u.a)(e,2),a=t[0],l=t[1],r=Object(n.useState)({name:"",email:"",whatsapp:""}),i=Object(u.a)(r,2),o=i[0],m=i[1],s=Object(n.useState)([0,0]),d=Object(u.a)(s,2),f=d[0],p=d[1],g=Object(n.useState)(!1),v=Object(u.a)(g,2),h=v[0],j=v[1],y=Object(n.useState)([]),N=Object(u.a)(y,2),w=N[0],k=N[1],D=Object(n.useState)(),L=Object(u.a)(D,2),F=L[0],U=L[1];function M(){return(M=Object(S.a)(C.a.mark((function e(t){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(n=new FormData).append("name",o.name),n.append("email",o.email),n.append("whatsapp",o.whatsapp),n.append("city",a.city),n.append("uf",a.uf),n.append("latitude",String(f[0])),n.append("longitude",String(f[1])),n.append("items",w.join(",")),F&&n.append("image",F),e.next=13,E.post("points",n).then((function(e){(e.status=200)&&j(!0)}));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return c.a.createElement("div",{id:"page-create-point"},h&&c.a.createElement(q,null),c.a.createElement(O,null),c.a.createElement("form",{onSubmit:function(e){return M.apply(this,arguments)}},c.a.createElement("h1",null,"Cadastro de Pontos de Coletas"),c.a.createElement(R,{setFile:U}),c.a.createElement(I,{data:o,setData:m}),c.a.createElement("fieldset",null,c.a.createElement("legend",null,c.a.createElement("div",{className:"d-flex-betweeen"},c.a.createElement("h2",null,"Endere\xe7o"),c.a.createElement("span",null,"Selecione o Endere\xe7o no Mapa"))),c.a.createElement(b,{ufCity:a,setCity:l}),c.a.createElement(x,{ufCity:a,setCity:l,setLatLon:p})),c.a.createElement("fieldset",null,c.a.createElement("legend",null,c.a.createElement("div",{className:"d-flex-betweeen"},c.a.createElement("h2",null,"Itens de Coleta"),c.a.createElement("span",null,"Selecione os items recebidos."))),c.a.createElement(P,{setItems:k})),c.a.createElement("button",{type:"submit"},"Cadastrar Ponto de Coleta")))}),M=function(){return c.a.createElement(i.a,null,c.a.createElement(o.a,{component:v,path:"/",exact:!0}),c.a.createElement(o.a,{component:U,path:"/create-point"}),c.a.createElement(o.a,{component:j,path:"/find-point/"}))};var _=function(){return c.a.createElement(M,null)};r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(_,null)),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.4fdce5f9.chunk.js.map